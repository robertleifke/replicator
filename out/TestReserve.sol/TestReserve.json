{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"_blockTimestamp","inputs":[],"outputs":[{"name":"blockTimestamp","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"type":"function","name":"beforeEach","inputs":[{"name":"name","type":"string","internalType":"string"},{"name":"timestamp_","type":"uint256","internalType":"uint256"},{"name":"reserveQuote","type":"uint256","internalType":"uint256"},{"name":"reserveBase","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"res","inputs":[],"outputs":[{"name":"","type":"tuple","internalType":"struct Reserve.Data","components":[{"name":"reserveQuote","type":"uint128","internalType":"uint128"},{"name":"reserveBase","type":"uint128","internalType":"uint128"},{"name":"liquidity","type":"uint128","internalType":"uint128"},{"name":"blockTimestamp","type":"uint32","internalType":"uint32"},{"name":"cumulativeQuote","type":"uint256","internalType":"uint256"},{"name":"cumulativeBase","type":"uint256","internalType":"uint256"},{"name":"cumulativeLiquidity","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"reserveId","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"reserves","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"reserveQuote","type":"uint128","internalType":"uint128"},{"name":"reserveBase","type":"uint128","internalType":"uint128"},{"name":"liquidity","type":"uint128","internalType":"uint128"},{"name":"blockTimestamp","type":"uint32","internalType":"uint32"},{"name":"cumulativeQuote","type":"uint256","internalType":"uint256"},{"name":"cumulativeBase","type":"uint256","internalType":"uint256"},{"name":"cumulativeLiquidity","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"shouldAllocate","inputs":[{"name":"resId","type":"bytes32","internalType":"bytes32"},{"name":"delQuote","type":"uint256","internalType":"uint256"},{"name":"delBase","type":"uint256","internalType":"uint256"},{"name":"delLiquidity","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct Reserve.Data","components":[{"name":"reserveQuote","type":"uint128","internalType":"uint128"},{"name":"reserveBase","type":"uint128","internalType":"uint128"},{"name":"liquidity","type":"uint128","internalType":"uint128"},{"name":"blockTimestamp","type":"uint32","internalType":"uint32"},{"name":"cumulativeQuote","type":"uint256","internalType":"uint256"},{"name":"cumulativeBase","type":"uint256","internalType":"uint256"},{"name":"cumulativeLiquidity","type":"uint256","internalType":"uint256"}]}],"stateMutability":"nonpayable"},{"type":"function","name":"shouldRemove","inputs":[{"name":"resId","type":"bytes32","internalType":"bytes32"},{"name":"delQuote","type":"uint256","internalType":"uint256"},{"name":"delBase","type":"uint256","internalType":"uint256"},{"name":"delLiquidity","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct Reserve.Data","components":[{"name":"reserveQuote","type":"uint128","internalType":"uint128"},{"name":"reserveBase","type":"uint128","internalType":"uint128"},{"name":"liquidity","type":"uint128","internalType":"uint128"},{"name":"blockTimestamp","type":"uint32","internalType":"uint32"},{"name":"cumulativeQuote","type":"uint256","internalType":"uint256"},{"name":"cumulativeBase","type":"uint256","internalType":"uint256"},{"name":"cumulativeLiquidity","type":"uint256","internalType":"uint256"}]}],"stateMutability":"nonpayable"},{"type":"function","name":"shouldSwap","inputs":[{"name":"resId","type":"bytes32","internalType":"bytes32"},{"name":"addXRemoveY","type":"bool","internalType":"bool"},{"name":"deltaIn","type":"uint256","internalType":"uint256"},{"name":"deltaOut","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct Reserve.Data","components":[{"name":"reserveQuote","type":"uint128","internalType":"uint128"},{"name":"reserveBase","type":"uint128","internalType":"uint128"},{"name":"liquidity","type":"uint128","internalType":"uint128"},{"name":"blockTimestamp","type":"uint32","internalType":"uint32"},{"name":"cumulativeQuote","type":"uint256","internalType":"uint256"},{"name":"cumulativeBase","type":"uint256","internalType":"uint256"},{"name":"cumulativeLiquidity","type":"uint256","internalType":"uint256"}]}],"stateMutability":"nonpayable"},{"type":"function","name":"shouldUpdate","inputs":[{"name":"resId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"tuple","internalType":"struct Reserve.Data","components":[{"name":"reserveQuote","type":"uint128","internalType":"uint128"},{"name":"reserveBase","type":"uint128","internalType":"uint128"},{"name":"liquidity","type":"uint128","internalType":"uint128"},{"name":"blockTimestamp","type":"uint32","internalType":"uint32"},{"name":"cumulativeQuote","type":"uint256","internalType":"uint256"},{"name":"cumulativeBase","type":"uint256","internalType":"uint256"},{"name":"cumulativeLiquidity","type":"uint256","internalType":"uint256"}]}],"stateMutability":"nonpayable"},{"type":"function","name":"step","inputs":[{"name":"timestep","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"timestamp","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"update","inputs":[{"name":"resId","type":"bytes32","internalType":"bytes32"},{"name":"Quote","type":"uint256","internalType":"uint256"},{"name":"Base","type":"uint256","internalType":"uint256"},{"name":"liquidity","type":"uint256","internalType":"uint256"},{"name":"blockTimestamp","type":"uint32","internalType":"uint32"}],"outputs":[{"name":"","type":"tuple","internalType":"struct Reserve.Data","components":[{"name":"reserveQuote","type":"uint128","internalType":"uint128"},{"name":"reserveBase","type":"uint128","internalType":"uint128"},{"name":"liquidity","type":"uint128","internalType":"uint128"},{"name":"blockTimestamp","type":"uint32","internalType":"uint32"},{"name":"cumulativeQuote","type":"uint256","internalType":"uint256"},{"name":"cumulativeBase","type":"uint256","internalType":"uint256"},{"name":"cumulativeLiquidity","type":"uint256","internalType":"uint256"}]}],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b50610cf9806100206000396000f3fe608060405234801561001057600080fd5b50600436106100b35760003560e01c8063c63aa3e711610071578063c63aa3e71461022c578063dd7798e714610244578063e9efec0214610257578063ea8d1f0a1461026a578063edf6168014610273578063efbb26b31461028657600080fd5b8062bbf1e4146100b85780633a1cde751461016757806368de29331461017c5780636f10e285146101fa5780638f47a68714610202578063b80777ea14610215575b600080fd5b6101166100c6366004610a43565b6002602081905260009182526040909120805460018201549282015460038301546004909301546001600160801b0380841695600160801b948590048216959181169463ffffffff910416929187565b604080516001600160801b0398891681529688166020880152949096169385019390935263ffffffff919091166060840152608083015260a082015260c081019190915260e0015b60405180910390f35b61017a610175366004610a43565b610299565b005b61018f61018a366004610a43565b6102b8565b60405161015e9190600060e0820190506001600160801b038084511683528060208501511660208401528060408501511660408401525063ffffffff60608401511660608301526080830151608083015260a083015160a083015260c083015160c083015292915050565b61018f610359565b61018f610210366004610a5c565b6103dd565b61021e60005481565b60405190815260200161015e565b60005460405163ffffffff909116815260200161015e565b61018f610252366004610a5c565b610487565b61017a610265366004610aa4565b6104b5565b61021e60015481565b61018f610281366004610b69565b61059c565b61018f610294366004610bab565b6105ca565b8063ffffffff166000808282546102b09190610c17565b909155505050565b6102c0610a07565b6102e06102cc60005490565b600084815260026020526040902090610672565b50600090815260026020818152604092839020835160e08101855281546001600160801b038082168352600160801b918290048116948301949094526001830154938416958201959095529390910463ffffffff166060840152908101546080830152600381015460a08301526004015460c082015290565b610361610a07565b5060018054600090815260026020818152604092839020835160e08101855281546001600160801b038082168352600160801b91829004811694830194909452958201549283169481019490945293900463ffffffff1660608301528201546080820152600382015460a082015260049091015460c082015290565b6103e5610a07565b61040b8484846103f460005490565b60008a81526002602052604090209392919061070e565b50505060009182525060026020818152604092839020835160e08101855281546001600160801b038082168352600160801b918290048116948301949094526001830154938416958201959095529390910463ffffffff166060840152908101546080830152600381015460a08301526004015460c082015290565b61048f610a07565b61040b84848461049e60005490565b60008a815260026020526040902093929190610800565b60008381556040516104cb908690602001610c30565b60408051808303601f190181528282528051602091820120600181815560e0850184526001600160801b039788168552958716828501908152671bc16d674ec8000085850190815263ffffffff998a166060870190815260006080880181815260a0890182815260c08a018381529683526002978890529790912097519351938b16600160801b948c16850217885591519887018054915199909a166001600160a01b0319909116179790991602959095179095559451938101939093555091516003820155905160049091015550565b6105a4610a07565b61040b8484846105b360005490565b60008a8152600260205260409020939291906108c7565b6105d2610a07565b50600094855260026020818152604096879020918201869055600382018590556004820184905560018201805463ffffffff60801b198116600160801b63ffffffff9687168102918217938490558a5160e081018c5295546001600160801b0380821688529082900481169587019590955291841693169290921797830197909752909504166060850152608084019290925260a083015260c082015290565b600182015460009061069190600160801b900463ffffffff1683610c5f565b905063ffffffff81161561070957825460028401805463ffffffff8481166001600160801b038086168202909301909355600387018054600160801b958690048416850201905560018701805460048901805494821690950290930190935563ffffffff60801b199091169085169092029190911790555b505050565b6107188582610672565b610721846109ed565b8554869060009061073c9084906001600160801b0316610c83565b92506101000a8154816001600160801b0302191690836001600160801b03160217905550610769836109ed565b8554869060109061078b908490600160801b90046001600160801b0316610c83565b92506101000a8154816001600160801b0302191690836001600160801b031602179055506107b8826109ed565b6001860180546000906107d59084906001600160801b0316610c83565b92506101000a8154816001600160801b0302191690836001600160801b031602179055505050505050565b61080a8582610672565b610813846109ed565b8554869060009061082e9084906001600160801b0316610ca3565b92506101000a8154816001600160801b0302191690836001600160801b0316021790555061085b836109ed565b8554869060109061087d908490600160801b90046001600160801b0316610ca3565b92506101000a8154816001600160801b0302191690836001600160801b031602179055506108aa826109ed565b6001860180546000906107d59084906001600160801b0316610ca3565b6108d18582610672565b8315610973576108e0836109ed565b855486906000906108fb9084906001600160801b0316610c83565b92506101000a8154816001600160801b0302191690836001600160801b03160217905550610928826109ed565b8554869060109061094a908490600160801b90046001600160801b0316610ca3565b92506101000a8154816001600160801b0302191690836001600160801b031602179055506109e6565b61097c826109ed565b855486906000906109979084906001600160801b0316610ca3565b92506101000a8154816001600160801b0302191690836001600160801b031602179055506109c4836109ed565b855486906010906107d5908490600160801b90046001600160801b0316610c83565b5050505050565b60006001600160801b03821115610a0357600080fd5b5090565b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c081019190915290565b600060208284031215610a5557600080fd5b5035919050565b60008060008060808587031215610a7257600080fd5b5050823594602084013594506040840135936060013592509050565b634e487b7160e01b600052604160045260246000fd5b60008060008060808587031215610aba57600080fd5b843567ffffffffffffffff80821115610ad257600080fd5b818701915087601f830112610ae657600080fd5b813581811115610af857610af8610a8e565b604051601f8201601f19908116603f01168101908382118183101715610b2057610b20610a8e565b816040528281528a6020848701011115610b3957600080fd5b82602086016020830137600060209382018401529a91890135995050604088013597606001359650945050505050565b60008060008060808587031215610b7f57600080fd5b8435935060208501358015158114610b9657600080fd5b93969395505050506040820135916060013590565b600080600080600060a08688031215610bc357600080fd5b85359450602086013593506040860135925060608601359150608086013563ffffffff81168114610bf357600080fd5b809150509295509295909350565b634e487b7160e01b600052601160045260246000fd5b80820180821115610c2a57610c2a610c01565b92915050565b6000825160005b81811015610c515760208186018101518583015201610c37565b506000920191825250919050565b63ffffffff828116828216039080821115610c7c57610c7c610c01565b5092915050565b6001600160801b03818116838216019080821115610c7c57610c7c610c01565b6001600160801b03828116828216039080821115610c7c57610c7c610c0156fea264697066735822122032c5cd88dcd82858fba39a385693b79dbcecb4f04fb5fbfc7bdb40debc1e714b64736f6c63430008140033","sourceMap":"202:3565:52:-:0;;;603:16;;;;;;;;;;202:3565;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100b35760003560e01c8063c63aa3e711610071578063c63aa3e71461022c578063dd7798e714610244578063e9efec0214610257578063ea8d1f0a1461026a578063edf6168014610273578063efbb26b31461028657600080fd5b8062bbf1e4146100b85780633a1cde751461016757806368de29331461017c5780636f10e285146101fa5780638f47a68714610202578063b80777ea14610215575b600080fd5b6101166100c6366004610a43565b6002602081905260009182526040909120805460018201549282015460038301546004909301546001600160801b0380841695600160801b948590048216959181169463ffffffff910416929187565b604080516001600160801b0398891681529688166020880152949096169385019390935263ffffffff919091166060840152608083015260a082015260c081019190915260e0015b60405180910390f35b61017a610175366004610a43565b610299565b005b61018f61018a366004610a43565b6102b8565b60405161015e9190600060e0820190506001600160801b038084511683528060208501511660208401528060408501511660408401525063ffffffff60608401511660608301526080830151608083015260a083015160a083015260c083015160c083015292915050565b61018f610359565b61018f610210366004610a5c565b6103dd565b61021e60005481565b60405190815260200161015e565b60005460405163ffffffff909116815260200161015e565b61018f610252366004610a5c565b610487565b61017a610265366004610aa4565b6104b5565b61021e60015481565b61018f610281366004610b69565b61059c565b61018f610294366004610bab565b6105ca565b8063ffffffff166000808282546102b09190610c17565b909155505050565b6102c0610a07565b6102e06102cc60005490565b600084815260026020526040902090610672565b50600090815260026020818152604092839020835160e08101855281546001600160801b038082168352600160801b918290048116948301949094526001830154938416958201959095529390910463ffffffff166060840152908101546080830152600381015460a08301526004015460c082015290565b610361610a07565b5060018054600090815260026020818152604092839020835160e08101855281546001600160801b038082168352600160801b91829004811694830194909452958201549283169481019490945293900463ffffffff1660608301528201546080820152600382015460a082015260049091015460c082015290565b6103e5610a07565b61040b8484846103f460005490565b60008a81526002602052604090209392919061070e565b50505060009182525060026020818152604092839020835160e08101855281546001600160801b038082168352600160801b918290048116948301949094526001830154938416958201959095529390910463ffffffff166060840152908101546080830152600381015460a08301526004015460c082015290565b61048f610a07565b61040b84848461049e60005490565b60008a815260026020526040902093929190610800565b60008381556040516104cb908690602001610c30565b60408051808303601f190181528282528051602091820120600181815560e0850184526001600160801b039788168552958716828501908152671bc16d674ec8000085850190815263ffffffff998a166060870190815260006080880181815260a0890182815260c08a018381529683526002978890529790912097519351938b16600160801b948c16850217885591519887018054915199909a166001600160a01b0319909116179790991602959095179095559451938101939093555091516003820155905160049091015550565b6105a4610a07565b61040b8484846105b360005490565b60008a8152600260205260409020939291906108c7565b6105d2610a07565b50600094855260026020818152604096879020918201869055600382018590556004820184905560018201805463ffffffff60801b198116600160801b63ffffffff9687168102918217938490558a5160e081018c5295546001600160801b0380821688529082900481169587019590955291841693169290921797830197909752909504166060850152608084019290925260a083015260c082015290565b600182015460009061069190600160801b900463ffffffff1683610c5f565b905063ffffffff81161561070957825460028401805463ffffffff8481166001600160801b038086168202909301909355600387018054600160801b958690048416850201905560018701805460048901805494821690950290930190935563ffffffff60801b199091169085169092029190911790555b505050565b6107188582610672565b610721846109ed565b8554869060009061073c9084906001600160801b0316610c83565b92506101000a8154816001600160801b0302191690836001600160801b03160217905550610769836109ed565b8554869060109061078b908490600160801b90046001600160801b0316610c83565b92506101000a8154816001600160801b0302191690836001600160801b031602179055506107b8826109ed565b6001860180546000906107d59084906001600160801b0316610c83565b92506101000a8154816001600160801b0302191690836001600160801b031602179055505050505050565b61080a8582610672565b610813846109ed565b8554869060009061082e9084906001600160801b0316610ca3565b92506101000a8154816001600160801b0302191690836001600160801b0316021790555061085b836109ed565b8554869060109061087d908490600160801b90046001600160801b0316610ca3565b92506101000a8154816001600160801b0302191690836001600160801b031602179055506108aa826109ed565b6001860180546000906107d59084906001600160801b0316610ca3565b6108d18582610672565b8315610973576108e0836109ed565b855486906000906108fb9084906001600160801b0316610c83565b92506101000a8154816001600160801b0302191690836001600160801b03160217905550610928826109ed565b8554869060109061094a908490600160801b90046001600160801b0316610ca3565b92506101000a8154816001600160801b0302191690836001600160801b031602179055506109e6565b61097c826109ed565b855486906000906109979084906001600160801b0316610ca3565b92506101000a8154816001600160801b0302191690836001600160801b031602179055506109c4836109ed565b855486906010906107d5908490600160801b90046001600160801b0316610c83565b5050505050565b60006001600160801b03821115610a0357600080fd5b5090565b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c081019190915290565b600060208284031215610a5557600080fd5b5035919050565b60008060008060808587031215610a7257600080fd5b5050823594602084013594506040840135936060013592509050565b634e487b7160e01b600052604160045260246000fd5b60008060008060808587031215610aba57600080fd5b843567ffffffffffffffff80821115610ad257600080fd5b818701915087601f830112610ae657600080fd5b813581811115610af857610af8610a8e565b604051601f8201601f19908116603f01168101908382118183101715610b2057610b20610a8e565b816040528281528a6020848701011115610b3957600080fd5b82602086016020830137600060209382018401529a91890135995050604088013597606001359650945050505050565b60008060008060808587031215610b7f57600080fd5b8435935060208501358015158114610b9657600080fd5b93969395505050506040820135916060013590565b600080600080600060a08688031215610bc357600080fd5b85359450602086013593506040860135925060608601359150608086013563ffffffff81168114610bf357600080fd5b809150509295509295909350565b634e487b7160e01b600052601160045260246000fd5b80820180821115610c2a57610c2a610c01565b92915050565b6000825160005b81811015610c515760208186018101518583015201610c37565b506000920191825250919050565b63ffffffff828116828216039080821115610c7c57610c7c610c01565b5092915050565b6001600160801b03818116838216019080821115610c7c57610c7c610c01565b6001600160801b03828116828216039080821115610c7c57610c7c610c0156fea264697066735822122032c5cd88dcd82858fba39a385693b79dbcecb4f04fb5fbfc7bdb40debc1e714b64736f6c63430008140033","sourceMap":"202:3565:52:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;548:48;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;548:48:52;;;;-1:-1:-1;;;548:48:52;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;583:15:53;;;565:34;;635:15;;;630:2;615:18;;608:43;687:15;;;;667:18;;;660:43;;;;751:10;739:23;;;;734:2;719:18;;712:51;794:3;779:19;;772:35;838:3;823:19;;816:35;882:3;867:19;;860:35;;;;499:3;484:19;548:48:52;;;;;;;;1901:85;;;;;;:::i;:::-;;:::i;:::-;;2044:164;;;;;;:::i;:::-;;:::i;:::-;;;;;;1229:4:53;1271:3;1260:9;1256:19;1248:27;;-1:-1:-1;;;;;1374:2:53;1365:6;1359:13;1355:22;1344:9;1337:41;1446:2;1438:4;1430:6;1426:17;1420:24;1416:33;1409:4;1398:9;1394:20;1387:63;1518:2;1510:4;1502:6;1498:17;1492:24;1488:33;1481:4;1470:9;1466:20;1459:63;;1590:10;1582:4;1574:6;1570:17;1564:24;1560:41;1553:4;1542:9;1538:20;1531:71;1658:4;1650:6;1646:17;1640:24;1633:4;1622:9;1618:20;1611:54;1721:4;1713:6;1709:17;1703:24;1696:4;1685:9;1681:20;1674:54;1784:4;1776:6;1772:17;1766:24;1759:4;1748:9;1744:20;1737:54;1091:706;;;;;658:100:52;;;:::i;2659:296::-;;;;;;:::i;:::-;;:::i;360:24::-;;;;;;;;;2338:25:53;;;2326:2;2311:18;360:24:52;2192:177:53;1715:122:52;1763:21;1820:9;1715:122;;2548:10:53;2536:23;;;2518:42;;2506:2;2491:18;1715:122:52;2374:192:53;3033:292:52;;;;;;:::i;:::-;;:::i;841:822::-;;;;;;:::i;:::-;;:::i;454:24::-;;;;;;2303:283;;;;;;:::i;:::-;;:::i;3331:434::-;;;;;;:::i;:::-;;:::i;1901:85::-;1970:8;1950:29;;:9;;:29;;;;;;;:::i;:::-;;;;-1:-1:-1;;;1901:85:52:o;2044:164::-;2097:19;;:::i;:::-;2128:41;2151:17;1763:21;1820:9;;1715:122;2151:17;2128:15;;;;:8;:15;;;;;;:22;:41::i;:::-;-1:-1:-1;2186:15:52;;;;:8;:15;;;;;;;;;2179:22;;;;;;;;;-1:-1:-1;;;;;2179:22:52;;;;;-1:-1:-1;;;2179:22:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2044:164::o;658:100::-;694:19;;:::i;:::-;-1:-1:-1;741:9:52;;;732:19;;;;:8;:19;;;;;;;;;725:26;;;;;;;;;-1:-1:-1;;;;;725:26:52;;;;;-1:-1:-1;;;725:26:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;658:100::o;2659:296::-;2809:19;;:::i;:::-;2840:76;2865:8;2875:7;2884:12;2898:17;1763:21;1820:9;;1715:122;2898:17;2840:15;;;;:8;:15;;;;;;:76;;;:24;:76::i;:::-;-1:-1:-1;;;2933:15:52;;;;-1:-1:-1;2933:8:52;:15;;;;;;;;;2926:22;;;;;;;;;-1:-1:-1;;;;;2926:22:52;;;;;-1:-1:-1;;;2926:22:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2659:296::o;3033:292::-;3181:19;;:::i;:::-;3212:74;3235:8;3245:7;3254:12;3268:17;1763:21;1820:9;;1715:122;3268:17;3212:15;;;;:8;:15;;;;;;:74;;;:22;:74::i;841:822::-;999:9;:22;;;1099;;;;1116:4;;1099:22;;;:::i;:::-;;;;;;;-1:-1:-1;;1099:22:52;;;;;;1089:33;;1099:22;1089:33;;;;1159:9;:17;;;1306:350;;;;;-1:-1:-1;;;;;1306:350:52;;;;;;;;;;;;;;1493:4;1306:350;;;;;;;;;;;;;;;;-1:-1:-1;1306:350:52;;;;;;;;;;;;;;;;;;1288:15;;;:8;:15;;;;;;;;:368;;;;;;;-1:-1:-1;;;1288:368:52;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;1288:368:52;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1288:368:52;;;;;;;;;;;;;-1:-1:-1;841:822:52:o;2303:283::-;2445:19;;:::i;:::-;2476:71;2497:11;2510:7;2519:8;2529:17;1763:21;1820:9;;1715:122;2529:17;2476:15;;;;:8;:15;;;;;;:71;;;:20;:71::i;3331:434::-;3495:19;;:::i;:::-;-1:-1:-1;3526:15:52;;;;:8;:15;;;;;;;;;:31;;;:39;;;3575:30;;;:37;;;3622:35;;;:47;;;3679:30;;;:47;;-1:-1:-1;;;;3679:47:52;;-1:-1:-1;;;3679:47:52;;;;;;;;;;;;;3736:22;;;;;;;;;-1:-1:-1;;;;;3736:22:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3331:434::o;1271:528:31:-;1383:18;;;;1347:16;;1366:35;;-1:-1:-1;;;1383:18:31;;;;1366:14;:35;:::i;:::-;1347:54;-1:-1:-1;1446:14:31;;;;1442:351;;1535:16;;1504:19;;;:60;;1527:37;;;;-1:-1:-1;;;;;1535:16:31;;;1527:37;;1504:60;;;;;;1582:18;;;:58;;-1:-1:-1;;;1612:15:31;;;;;;1604:36;;1582:58;;;-1:-1:-1;1693:13:31;;;;1658:23;;;:61;;1693:13;;;1685:34;;;1658:61;;;;;;-1:-1:-1;;;;1747:35:31;;;;;;;;;;;;;;;1442:351;1337:462;1271:528;;:::o;3203:384::-;3388:31;3395:7;3404:14;3388:6;:31::i;:::-;3453:20;:8;:18;:20::i;:::-;3429:44;;:7;;:20;;:44;;;;-1:-1:-1;;;;;3429:44:31;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;3429:44:31;;;;;-1:-1:-1;;;;;3429:44:31;;;;;;3506:19;:7;:17;:19::i;:::-;3483:42;;;;:19;;:42;;;;-1:-1:-1;;;3483:42:31;;-1:-1:-1;;;;;3483:42:31;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;3483:42:31;;;;;-1:-1:-1;;;;;3483:42:31;;;;;;3556:24;:12;:22;:24::i;:::-;3535:17;;;:45;;:17;;:45;;;;-1:-1:-1;;;;;3535:45:31;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;3535:45:31;;;;;-1:-1:-1;;;;;3535:45:31;;;;;;3203:384;;;;;:::o;4055:382::-;4238:31;4245:7;4254:14;4238:6;:31::i;:::-;4303:20;:8;:18;:20::i;:::-;4279:44;;:7;;:20;;:44;;;;-1:-1:-1;;;;;4279:44:31;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;4279:44:31;;;;;-1:-1:-1;;;;;4279:44:31;;;;;;4356:19;:7;:17;:19::i;:::-;4333:42;;;;:19;;:42;;;;-1:-1:-1;;;4333:42:31;;-1:-1:-1;;;;;4333:42:31;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;4333:42:31;;;;;-1:-1:-1;;;;;4333:42:31;;;;;;4406:24;:12;:22;:24::i;:::-;4385:17;;;:45;;:17;;:45;;;;-1:-1:-1;;;;;4385:45:31;;:::i;2240:499::-;2418:31;2425:7;2434:14;2418:6;:31::i;:::-;2463:12;2459:274;;;2515:19;:7;:17;:19::i;:::-;2491:43;;:7;;:20;;:43;;;;-1:-1:-1;;;;;2491:43:31;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;2491:43:31;;;;;-1:-1:-1;;;;;2491:43:31;;;;;;2571:20;:8;:18;:20::i;:::-;2548:43;;;;:19;;:43;;;;-1:-1:-1;;;2548:43:31;;-1:-1:-1;;;;;2548:43:31;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;2548:43:31;;;;;-1:-1:-1;;;;;2548:43:31;;;;;;2459:274;;;2646:20;:8;:18;:20::i;:::-;2622:44;;:7;;:20;;:44;;;;-1:-1:-1;;;;;2622:44:31;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;2622:44:31;;;;;-1:-1:-1;;;;;2622:44:31;;;;;;2703:19;:7;:17;:19::i;:::-;2680:42;;;;:19;;:42;;;;-1:-1:-1;;;2680:42:31;;-1:-1:-1;;;;;2680:42:31;;:::i;2459:274::-;2240:499;;;;;:::o;212:136:32:-;265:9;-1:-1:-1;;;;;294:22:32;;;286:31;;;;;;-1:-1:-1;339:1:32;212:136::o;-1:-1:-1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;14:180:53:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;165:23:53;;14:180;-1:-1:-1;14:180:53:o;1802:385::-;1888:6;1896;1904;1912;1965:3;1953:9;1944:7;1940:23;1936:33;1933:53;;;1982:1;1979;1972:12;1933:53;-1:-1:-1;;2005:23:53;;;2075:2;2060:18;;2047:32;;-1:-1:-1;2126:2:53;2111:18;;2098:32;;2177:2;2162:18;2149:32;;-1:-1:-1;1802:385:53;-1:-1:-1;1802:385:53:o;2571:127::-;2632:10;2627:3;2623:20;2620:1;2613:31;2663:4;2660:1;2653:15;2687:4;2684:1;2677:15;2703:1137;2799:6;2807;2815;2823;2876:3;2864:9;2855:7;2851:23;2847:33;2844:53;;;2893:1;2890;2883:12;2844:53;2933:9;2920:23;2962:18;3003:2;2995:6;2992:14;2989:34;;;3019:1;3016;3009:12;2989:34;3057:6;3046:9;3042:22;3032:32;;3102:7;3095:4;3091:2;3087:13;3083:27;3073:55;;3124:1;3121;3114:12;3073:55;3160:2;3147:16;3182:2;3178;3175:10;3172:36;;;3188:18;;:::i;:::-;3263:2;3257:9;3231:2;3317:13;;-1:-1:-1;;3313:22:53;;;3337:2;3309:31;3305:40;3293:53;;;3361:18;;;3381:22;;;3358:46;3355:72;;;3407:18;;:::i;:::-;3447:10;3443:2;3436:22;3482:2;3474:6;3467:18;3524:7;3517:4;3512:2;3508;3504:11;3500:22;3497:35;3494:55;;;3545:1;3542;3535:12;3494:55;3605:2;3598:4;3594:2;3590:13;3583:4;3575:6;3571:17;3558:50;3652:1;3645:4;3628:15;;;3624:26;;3617:37;3628:15;3711:20;;;3698:34;;-1:-1:-1;;3779:2:53;3764:18;;3751:32;;3830:2;3815:18;3802:32;;-1:-1:-1;3632:6:53;-1:-1:-1;;;;;2703:1137:53:o;4027:478::-;4110:6;4118;4126;4134;4187:3;4175:9;4166:7;4162:23;4158:33;4155:53;;;4204:1;4201;4194:12;4155:53;4240:9;4227:23;4217:33;;4300:2;4289:9;4285:18;4272:32;4347:5;4340:13;4333:21;4326:5;4323:32;4313:60;;4369:1;4366;4359:12;4313:60;4027:478;;4392:5;;-1:-1:-1;;;;4444:2:53;4429:18;;4416:32;;4495:2;4480:18;4467:32;;4027:478::o;4510:550::-;4604:6;4612;4620;4628;4636;4689:3;4677:9;4668:7;4664:23;4660:33;4657:53;;;4706:1;4703;4696:12;4657:53;4742:9;4729:23;4719:33;;4799:2;4788:9;4784:18;4771:32;4761:42;;4850:2;4839:9;4835:18;4822:32;4812:42;;4901:2;4890:9;4886:18;4873:32;4863:42;;4955:3;4944:9;4940:19;4927:33;5000:10;4993:5;4989:22;4982:5;4979:33;4969:61;;5026:1;5023;5016:12;4969:61;5049:5;5039:15;;;4510:550;;;;;;;;:::o;5065:127::-;5126:10;5121:3;5117:20;5114:1;5107:31;5157:4;5154:1;5147:15;5181:4;5178:1;5171:15;5197:125;5262:9;;;5283:10;;;5280:36;;;5296:18;;:::i;:::-;5197:125;;;;:::o;5327:414::-;5458:3;5496:6;5490:13;5521:1;5531:129;5545:6;5542:1;5539:13;5531:129;;;5643:4;5627:14;;;5623:25;;5617:32;5604:11;;;5597:53;5560:12;5531:129;;;-1:-1:-1;5715:1:53;5679:16;;5704:13;;;-1:-1:-1;5679:16:53;5327:414;-1:-1:-1;5327:414:53:o;5746:175::-;5814:10;5857;;;5845;;;5841:27;;5880:12;;;5877:38;;;5895:18;;:::i;:::-;5877:38;5746:175;;;;:::o;5926:197::-;-1:-1:-1;;;;;6048:10:53;;;6060;;;6044:27;;6083:11;;;6080:37;;;6097:18;;:::i;6128:200::-;-1:-1:-1;;;;;6264:10:53;;;6252;;;6248:27;;6287:12;;;6284:38;;;6302:18;;:::i","linkReferences":{}},"methodIdentifiers":{"_blockTimestamp()":"c63aa3e7","beforeEach(string,uint256,uint256,uint256)":"e9efec02","res()":"6f10e285","reserveId()":"ea8d1f0a","reserves(bytes32)":"00bbf1e4","shouldAllocate(bytes32,uint256,uint256,uint256)":"8f47a687","shouldRemove(bytes32,uint256,uint256,uint256)":"dd7798e7","shouldSwap(bytes32,bool,uint256,uint256)":"edf61680","shouldUpdate(bytes32)":"68de2933","step(uint256)":"3a1cde75","timestamp()":"b80777ea","update(bytes32,uint256,uint256,uint256,uint32)":"efbb26b3"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"_blockTimestamp\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"timestamp_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveBase\",\"type\":\"uint256\"}],\"name\":\"beforeEach\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"res\",\"outputs\":[{\"components\":[{\"internalType\":\"uint128\",\"name\":\"reserveQuote\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"reserveBase\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeLiquidity\",\"type\":\"uint256\"}],\"internalType\":\"struct Reserve.Data\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"reserveId\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"reserves\",\"outputs\":[{\"internalType\":\"uint128\",\"name\":\"reserveQuote\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"reserveBase\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeLiquidity\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"resId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"delQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"delBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"delLiquidity\",\"type\":\"uint256\"}],\"name\":\"shouldAllocate\",\"outputs\":[{\"components\":[{\"internalType\":\"uint128\",\"name\":\"reserveQuote\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"reserveBase\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeLiquidity\",\"type\":\"uint256\"}],\"internalType\":\"struct Reserve.Data\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"resId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"delQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"delBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"delLiquidity\",\"type\":\"uint256\"}],\"name\":\"shouldRemove\",\"outputs\":[{\"components\":[{\"internalType\":\"uint128\",\"name\":\"reserveQuote\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"reserveBase\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeLiquidity\",\"type\":\"uint256\"}],\"internalType\":\"struct Reserve.Data\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"resId\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"addXRemoveY\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"deltaIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deltaOut\",\"type\":\"uint256\"}],\"name\":\"shouldSwap\",\"outputs\":[{\"components\":[{\"internalType\":\"uint128\",\"name\":\"reserveQuote\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"reserveBase\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeLiquidity\",\"type\":\"uint256\"}],\"internalType\":\"struct Reserve.Data\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"resId\",\"type\":\"bytes32\"}],\"name\":\"shouldUpdate\",\"outputs\":[{\"components\":[{\"internalType\":\"uint128\",\"name\":\"reserveQuote\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"reserveBase\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeLiquidity\",\"type\":\"uint256\"}],\"internalType\":\"struct Reserve.Data\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"timestep\",\"type\":\"uint256\"}],\"name\":\"step\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"timestamp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"resId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"Quote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"Base\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"liquidity\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"}],\"name\":\"update\",\"outputs\":[{\"components\":[{\"internalType\":\"uint128\",\"name\":\"reserveQuote\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"reserveBase\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"blockTimestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeQuote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeBase\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeLiquidity\",\"type\":\"uint256\"}],\"internalType\":\"struct Reserve.Data\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Primitive\",\"details\":\"For testing purposes ONLY\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Reserve Lib API Test\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"_blockTimestamp()\":{\"notice\":\"Used for time dependent tests\"},\"beforeEach(string,uint256,uint256,uint256)\":{\"notice\":\"Called before each unit test to initialize a reserve to test\"},\"res()\":{\"notice\":\"Used for testing\"},\"reserveId()\":{\"notice\":\"Storage slot for the reserveId used for testing\"},\"reserves(bytes32)\":{\"notice\":\"All the reserve data structs to use for testing\"},\"shouldAllocate(bytes32,uint256,uint256,uint256)\":{\"notice\":\"Add to both reserves and total supply of liquidity\"},\"shouldRemove(bytes32,uint256,uint256,uint256)\":{\"notice\":\"Remove from both reserves and total supply of liquidity\"},\"shouldSwap(bytes32,bool,uint256,uint256)\":{\"notice\":\"Increases one reserve value and decreases the other by different amounts\"},\"shouldUpdate(bytes32)\":{\"notice\":\"Adds amounts to cumulative reserves\"},\"step(uint256)\":{\"notice\":\"Increments the timestamp used for testing\"},\"timestamp()\":{\"notice\":\"Used for testing time\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/test/libraries/TestReserve.sol\":\"TestReserve\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/libraries/Reserve.sol\":{\"keccak256\":\"0xafca93f7d68030f3cf7ef3b2666c5585df15f1a56869237ee39a7ba4170258ac\",\"license\":\"GPL-3.0-only\",\"urls\":[\"bzz-raw://9b20126e982e0916275ac173a6d8a3642090c366ac66fdd188533f2a999e6273\",\"dweb:/ipfs/QmNxgepTvppKwxop7sbxZXmgxKCo7FPaTq7ybmvdztVooJ\"]},\"src/libraries/SafeCast.sol\":{\"keccak256\":\"0xaf262b2cd8a8f60a75aa8e448a0e1975c9b0c909fa0286eab477a4f7f04b4f73\",\"license\":\"GPL-3.0-only\",\"urls\":[\"bzz-raw://74ccabbebc05c33fa395505e6d2ddc481e6d3e50abac53df23a3bac5582aa4d2\",\"dweb:/ipfs/QmPptwoz1MFxSd8RxY9vX4fLUBHKiTHH9RUZds7QfHdGH9\"]},\"src/test/libraries/TestReserve.sol\":{\"keccak256\":\"0xc2df48ffce0be8b5df800bbde2032011396551bb2e0a961f21868ffb4d7b268c\",\"license\":\"GPL-3.0-only\",\"urls\":[\"bzz-raw://3f6f94443b9259005d4a615631ce7e2962224762c130333035ff1b8ddcf72369\",\"dweb:/ipfs/QmWoRra16MufPyYX6XjLrgX5PDAUn5vQpyvd2eEiuwb7oQ\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"view","type":"function","name":"_blockTimestamp","outputs":[{"internalType":"uint32","name":"blockTimestamp","type":"uint32"}]},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"timestamp_","type":"uint256"},{"internalType":"uint256","name":"reserveQuote","type":"uint256"},{"internalType":"uint256","name":"reserveBase","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"beforeEach"},{"inputs":[],"stateMutability":"view","type":"function","name":"res","outputs":[{"internalType":"struct Reserve.Data","name":"","type":"tuple","components":[{"internalType":"uint128","name":"reserveQuote","type":"uint128"},{"internalType":"uint128","name":"reserveBase","type":"uint128"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"uint256","name":"cumulativeQuote","type":"uint256"},{"internalType":"uint256","name":"cumulativeBase","type":"uint256"},{"internalType":"uint256","name":"cumulativeLiquidity","type":"uint256"}]}]},{"inputs":[],"stateMutability":"view","type":"function","name":"reserveId","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"reserves","outputs":[{"internalType":"uint128","name":"reserveQuote","type":"uint128"},{"internalType":"uint128","name":"reserveBase","type":"uint128"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"uint256","name":"cumulativeQuote","type":"uint256"},{"internalType":"uint256","name":"cumulativeBase","type":"uint256"},{"internalType":"uint256","name":"cumulativeLiquidity","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"resId","type":"bytes32"},{"internalType":"uint256","name":"delQuote","type":"uint256"},{"internalType":"uint256","name":"delBase","type":"uint256"},{"internalType":"uint256","name":"delLiquidity","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"shouldAllocate","outputs":[{"internalType":"struct Reserve.Data","name":"","type":"tuple","components":[{"internalType":"uint128","name":"reserveQuote","type":"uint128"},{"internalType":"uint128","name":"reserveBase","type":"uint128"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"uint256","name":"cumulativeQuote","type":"uint256"},{"internalType":"uint256","name":"cumulativeBase","type":"uint256"},{"internalType":"uint256","name":"cumulativeLiquidity","type":"uint256"}]}]},{"inputs":[{"internalType":"bytes32","name":"resId","type":"bytes32"},{"internalType":"uint256","name":"delQuote","type":"uint256"},{"internalType":"uint256","name":"delBase","type":"uint256"},{"internalType":"uint256","name":"delLiquidity","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"shouldRemove","outputs":[{"internalType":"struct Reserve.Data","name":"","type":"tuple","components":[{"internalType":"uint128","name":"reserveQuote","type":"uint128"},{"internalType":"uint128","name":"reserveBase","type":"uint128"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"uint256","name":"cumulativeQuote","type":"uint256"},{"internalType":"uint256","name":"cumulativeBase","type":"uint256"},{"internalType":"uint256","name":"cumulativeLiquidity","type":"uint256"}]}]},{"inputs":[{"internalType":"bytes32","name":"resId","type":"bytes32"},{"internalType":"bool","name":"addXRemoveY","type":"bool"},{"internalType":"uint256","name":"deltaIn","type":"uint256"},{"internalType":"uint256","name":"deltaOut","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"shouldSwap","outputs":[{"internalType":"struct Reserve.Data","name":"","type":"tuple","components":[{"internalType":"uint128","name":"reserveQuote","type":"uint128"},{"internalType":"uint128","name":"reserveBase","type":"uint128"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"uint256","name":"cumulativeQuote","type":"uint256"},{"internalType":"uint256","name":"cumulativeBase","type":"uint256"},{"internalType":"uint256","name":"cumulativeLiquidity","type":"uint256"}]}]},{"inputs":[{"internalType":"bytes32","name":"resId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"shouldUpdate","outputs":[{"internalType":"struct Reserve.Data","name":"","type":"tuple","components":[{"internalType":"uint128","name":"reserveQuote","type":"uint128"},{"internalType":"uint128","name":"reserveBase","type":"uint128"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"uint256","name":"cumulativeQuote","type":"uint256"},{"internalType":"uint256","name":"cumulativeBase","type":"uint256"},{"internalType":"uint256","name":"cumulativeLiquidity","type":"uint256"}]}]},{"inputs":[{"internalType":"uint256","name":"timestep","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"step"},{"inputs":[],"stateMutability":"view","type":"function","name":"timestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"resId","type":"bytes32"},{"internalType":"uint256","name":"Quote","type":"uint256"},{"internalType":"uint256","name":"Base","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint32","name":"blockTimestamp","type":"uint32"}],"stateMutability":"nonpayable","type":"function","name":"update","outputs":[{"internalType":"struct Reserve.Data","name":"","type":"tuple","components":[{"internalType":"uint128","name":"reserveQuote","type":"uint128"},{"internalType":"uint128","name":"reserveBase","type":"uint128"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"uint256","name":"cumulativeQuote","type":"uint256"},{"internalType":"uint256","name":"cumulativeBase","type":"uint256"},{"internalType":"uint256","name":"cumulativeLiquidity","type":"uint256"}]}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"_blockTimestamp()":{"notice":"Used for time dependent tests"},"beforeEach(string,uint256,uint256,uint256)":{"notice":"Called before each unit test to initialize a reserve to test"},"res()":{"notice":"Used for testing"},"reserveId()":{"notice":"Storage slot for the reserveId used for testing"},"reserves(bytes32)":{"notice":"All the reserve data structs to use for testing"},"shouldAllocate(bytes32,uint256,uint256,uint256)":{"notice":"Add to both reserves and total supply of liquidity"},"shouldRemove(bytes32,uint256,uint256,uint256)":{"notice":"Remove from both reserves and total supply of liquidity"},"shouldSwap(bytes32,bool,uint256,uint256)":{"notice":"Increases one reserve value and decreases the other by different amounts"},"shouldUpdate(bytes32)":{"notice":"Adds amounts to cumulative reserves"},"step(uint256)":{"notice":"Increments the timestamp used for testing"},"timestamp()":{"notice":"Used for testing time"}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/test/libraries/TestReserve.sol":"TestReserve"},"evmVersion":"paris","libraries":{}},"sources":{"src/libraries/Reserve.sol":{"keccak256":"0xafca93f7d68030f3cf7ef3b2666c5585df15f1a56869237ee39a7ba4170258ac","urls":["bzz-raw://9b20126e982e0916275ac173a6d8a3642090c366ac66fdd188533f2a999e6273","dweb:/ipfs/QmNxgepTvppKwxop7sbxZXmgxKCo7FPaTq7ybmvdztVooJ"],"license":"GPL-3.0-only"},"src/libraries/SafeCast.sol":{"keccak256":"0xaf262b2cd8a8f60a75aa8e448a0e1975c9b0c909fa0286eab477a4f7f04b4f73","urls":["bzz-raw://74ccabbebc05c33fa395505e6d2ddc481e6d3e50abac53df23a3bac5582aa4d2","dweb:/ipfs/QmPptwoz1MFxSd8RxY9vX4fLUBHKiTHH9RUZds7QfHdGH9"],"license":"GPL-3.0-only"},"src/test/libraries/TestReserve.sol":{"keccak256":"0xc2df48ffce0be8b5df800bbde2032011396551bb2e0a961f21868ffb4d7b268c","urls":["bzz-raw://3f6f94443b9259005d4a615631ce7e2962224762c130333035ff1b8ddcf72369","dweb:/ipfs/QmWoRra16MufPyYX6XjLrgX5PDAUn5vQpyvd2eEiuwb7oQ"],"license":"GPL-3.0-only"}},"version":1},"id":52}